<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>d:\projects\mortgagecalculator\mortgagecalculator\mortgagecalculator.unittests\mortgagecontrollerapitests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using MortgageCalculator.Api.Controllers;
using NUnit.Framework;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Web.Http;
using MortgageCalculator.Dto;
using System;

namespace MortgageCalculator.UnitTests
{
    [TestFixture]
    public class MortgageControllerAPITests
    {
        public MortgageControllerAPITests()
        {

        }

        [TestCase]
        public void Verify_GetAllMortgagesTest_Api()
        {
            // Arrange
            var controller = new MortgageController();
            controller.Request = new HttpRequestMessage();
            controller.Configuration = new HttpConfiguration();

            // Act
            IEnumerable&lt;Mortgage&gt; mortgages = controller.Get();

            // Assert
            Assert.IsNotNull(mortgages);
            Assert.IsTrue(mortgages.Count() &gt; 0);
        }


        [TestCase]
        public void Verify_GetMortgageTest_Api()
        {
            // Arrange
            var controller = new MortgageController();
            controller.Request = new HttpRequestMessage();
            controller.Configuration = new HttpConfiguration();

            // Act
            Mortgage mortgage = controller.Get(3);

            // Assert
            Assert.IsNotNull(mortgage);
            Assert.IsTrue(mortgage.MortgageId == 3);
            Assert.IsTrue(mortgage.Name.Length &gt; 0);
            Assert.IsTrue(mortgage.InterestRate &gt; 0);
            Assert.IsTrue(mortgage.EstablishmentFee &gt; 0);
            Assert.IsTrue(mortgage.EffectiveStartDate &gt; DateTime.MinValue);
            Assert.IsTrue(mortgage.EffectiveEndDate &lt; DateTime.MaxValue);
            Assert.IsTrue(mortgage.EffectiveEndDate &gt; mortgage.EffectiveStartDate);
            Assert.IsTrue(mortgage.MortgageType == MortgageType.Fixed || mortgage.MortgageType == MortgageType.Variable);
            Assert.IsTrue(mortgage.InterestRepayment == InterestRepayment.InterestOnly || mortgage.InterestRepayment == InterestRepayment.PrincipalAndInterest);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[15,9,15,44,1],[16,9,16,10,1],[18,9,18,10,1],[22,9,22,10,1],[24,13,24,55,1],[25,13,25,59,1],[26,13,26,64,1],[29,13,29,64,1],[32,13,32,41,1],[33,13,33,50,1],[34,9,34,10,1],[39,9,39,10,1],[41,13,41,55,1],[42,13,42,59,1],[43,13,43,64,1],[46,13,46,51,1],[49,13,49,40,1],[50,13,50,53,1],[51,13,51,53,1],[52,13,52,54,1],[53,13,53,58,1],[54,13,54,76,1],[55,13,55,74,1],[56,13,56,84,1],[57,13,57,122,1],[58,13,58,161,1],[59,9,59,10,1]]);
    </script>
  </body>
</html>